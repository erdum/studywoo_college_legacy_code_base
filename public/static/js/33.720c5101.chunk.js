(this["webpackJsonpberry-material-react-free"]=this["webpackJsonpberry-material-react-free"]||[]).push([[33],{519:function(e,t,n){"use strict";n.r(t);var r=n(26),a=n(25),i=n(196),s=n(204),c=n(192),o=n(61),l=n(158),d=n(6),j=Object(d.a)("div")((function(e){return{backgroundColor:e.theme.palette.primary.light,minHeight:"100vh"}})),u=n(8),b=n(46),m=n(211),h=n(109),x=n(1),p=["children"],O=function(e){var t=e.children,n=Object(b.a)(e,p);return Object(x.jsx)(h.a,Object(u.a)(Object(u.a)({sx:{maxWidth:{xs:400,lg:475},margin:{xs:2.5,md:3},"& > *":{flexGrow:1,flexBasis:"50%"}},content:!1},n),{},{children:Object(x.jsx)(m.a,{sx:{p:{xs:2,sm:3,xl:5}},children:t})}))},f=n(62),v=n(15),g=n(45),w=n.n(g),y=n(0),S=n(16),k=n(527),C=n(523),E=n(528),I=n(529),H=n(530),B=n(459),P=n(525),A=n(531),T=n(458),D=n(457),W=function(){var e=Object(y.useRef)(!0);return Object(y.useEffect)((function(){return function(){e.current=!1}}),[]),e},q=n(538),z=n(515),J=Object(y.forwardRef)((function(e,t){var n,r,a,i,s=e.children,c=e.type,o=e.direction,l=e.offset,d=e.scale;switch(o){case"up":case"left":a=l,i=0;break;default:a=0,i=l}var j=Object(q.a)(a,i),u=Object(v.a)(j,2),b=u[0],m=u[1],h=Object(q.a)(a,i),p=Object(v.a)(h,2),O=p[0],f=p[1];switch(c){case"rotate":return Object(x.jsx)(z.a.div,{ref:t,animate:{rotate:360},transition:{repeat:1/0,repeatType:"loop",duration:2,repeatDelay:0},children:s});case"slide":return"up"===o||"down"===o?Object(x.jsx)(z.a.div,{ref:t,animate:{y:void 0!==O?O:""},onHoverEnd:function(){return f()},onHoverStart:function(){return f()},children:s}):Object(x.jsx)(z.a.div,{ref:t,animate:{x:void 0!==b?b:""},onHoverEnd:function(){return m()},onHoverStart:function(){return m()},children:s});default:return"number"===typeof d&&(d={hover:d,tap:d}),Object(x.jsx)(z.a.div,{ref:t,whileHover:{scale:null===(n=d)||void 0===n?void 0:n.hover},whileTap:{scale:null===(r=d)||void 0===r?void 0:r.tap},children:s})}}));J.defaultProps={type:"scale",offset:10,direction:"right",scale:{hover:1,tap:.9}};var _=J;function F(e){try{return sessionStorage.setItem("accessToken",e),!0}catch(t){return t}}var U=n(94),G=n(95),M=n(437),N=n.n(M),R=n(438),V=n.n(R),L="".concat("https://college.studywoo.com/api","/login"),K=function(e){var t=Object.assign({},e),n=Object(a.a)(),r=W(),i=Object(y.useState)(null),c=Object(v.a)(i,2),o=c[0],l=c[1],d=Object(y.useState)(!1),j=Object(v.a)(d,2),b=j[0],h=j[1];Object(y.useEffect)((function(){Object(U.a)()&&Object(G.b)()&&!o&&l(!0)}),[o]);var p=Object(y.useState)(!1),O=Object(v.a)(p,2),g=O[0],q=O[1],z=function(){q(!g)},J=function(e){e.preventDefault()},M=function(){var e=Object(f.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,fetch(L,{method:"post",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:t.email,password:t.password})});case 4:if(n=e.sent,h(!1),200!==n.status){e.next=16;break}return e.next=9,n.json();case 9:F((n=e.sent).access_token),Object(G.a)(n.user_data),sessionStorage.setItem("permissions",JSON.stringify(n.permissions)),window.location.reload(),e.next=17;break;case 16:alert("Unexpected error ocurred!");case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(s.a,{container:!0,direction:"column",justifyContent:"center",spacing:2}),Object(x.jsx)(D.a,{initialValues:{email:"",password:"",submit:null},validationSchema:T.a().shape({email:T.b().email("Must be a valid email").max(255).required("Email is required"),password:T.b().max(255).required("Password is required")}),onSubmit:function(){var e=Object(f.a)(w.a.mark((function e(t,n){var a,i,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.setErrors,i=n.setStatus,s=n.setSubmitting;try{r.current&&(i({success:!0}),s(!1),M(t))}catch(c){console.error(c),r.current&&(i({success:!1}),a({submit:c.message}),s(!1))}case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),children:function(e){var r=e.errors,a=e.handleBlur,i=e.handleChange,s=e.handleSubmit,c=e.touched,o=e.values;return Object(x.jsxs)("form",Object(u.a)(Object(u.a)({noValidate:!0,onSubmit:s},t),{},{children:[Object(x.jsxs)(k.a,{fullWidth:!0,error:Boolean(c.email&&r.email),sx:Object(u.a)({},n.typography.customInput),children:[Object(x.jsx)(C.a,{htmlFor:"outlined-adornment-email-login",children:"Email Address / Username"}),Object(x.jsx)(E.a,{id:"outlined-adornment-email-login",type:"email",value:o.email,name:"email",onBlur:a,onChange:i,label:"Email Address / Username",inputProps:{}}),c.email&&r.email&&Object(x.jsx)(I.a,{error:!0,id:"standard-weight-helper-text-email-login",children:r.email})]}),Object(x.jsxs)(k.a,{fullWidth:!0,error:Boolean(c.password&&r.password),sx:Object(u.a)({},n.typography.customInput),children:[Object(x.jsx)(C.a,{htmlFor:"outlined-adornment-password-login",children:"Password"}),Object(x.jsx)(E.a,{id:"outlined-adornment-password-login",type:g?"text":"password",value:o.password,name:"password",onBlur:a,onChange:i,endAdornment:Object(x.jsx)(H.a,{position:"end",children:Object(x.jsx)(B.a,{"aria-label":"toggle password visibility",onClick:z,onMouseDown:J,edge:"end",size:"large",children:g?Object(x.jsx)(N.a,{}):Object(x.jsx)(V.a,{})})}),label:"Password",inputProps:{}}),c.password&&r.password&&Object(x.jsx)(I.a,{error:!0,id:"standard-weight-helper-text-password-login",children:r.password})]}),r.submit&&Object(x.jsx)(m.a,{sx:{mt:3},children:Object(x.jsx)(I.a,{error:!0,children:r.submit})}),Object(x.jsx)(m.a,{sx:{mt:2,position:"relative"},children:Object(x.jsxs)(_,{children:[Object(x.jsx)(P.a,{disableElevation:!0,disabled:b,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"secondary",children:"Sign in"}),b&&Object(x.jsx)(A.a,{size:24,sx:{position:"absolute",top:"50%",left:"50%",marginTop:"-12px",marginLeft:"-12px"}})]})})]}))}}),o?Object(x.jsx)(S.a,{to:"/admin/users"}):null]})},Q=n(110),X=n(532),Y=function(){return Object(x.jsxs)(c.a,{direction:"row",justifyContent:"space-between",children:[Object(x.jsx)(o.a,{variant:"subtitle2",component:X.a,href:"mailto:erdumadnan@gmail.com",target:"_blank",underline:"hover",children:"Adnan & Son IT Group Pakistan"}),Object(x.jsx)(o.a,{variant:"subtitle2",component:X.a,href:"https://colleg.studywoo.com",target:"_blank",underline:"hover",children:"\xa9 college.studywoo.com"})]})};t.default=function(){var e=Object(a.a)(),t=Object(i.a)(e.breakpoints.down("md"));return Object(x.jsx)(j,{children:Object(x.jsxs)(s.a,{container:!0,direction:"column",justifyContent:"flex-end",sx:{minHeight:"100vh"},children:[Object(x.jsx)(s.a,{item:!0,xs:12,children:Object(x.jsx)(s.a,{container:!0,justifyContent:"center",alignItems:"center",sx:{minHeight:"calc(100vh - 68px)"},children:Object(x.jsx)(s.a,{item:!0,sx:{m:{xs:1,sm:3},mb:0},children:Object(x.jsx)(O,{children:Object(x.jsxs)(s.a,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:[Object(x.jsx)(s.a,{item:!0,sx:{mb:3},children:Object(x.jsx)(r.b,{to:"#",children:Object(x.jsx)(Q.a,{})})}),Object(x.jsx)(s.a,{item:!0,xs:12,children:Object(x.jsx)(s.a,{container:!0,direction:t?"column-reverse":"row",alignItems:"center",justifyContent:"center",children:Object(x.jsx)(s.a,{item:!0,children:Object(x.jsxs)(c.a,{alignItems:"center",justifyContent:"center",spacing:1,children:[Object(x.jsx)(o.a,{color:e.palette.secondary.main,gutterBottom:!0,variant:t?"h3":"h2",children:"Hi, Welcome Back"}),Object(x.jsx)(o.a,{variant:"caption",fontSize:"16px",textAlign:t?"center":"inherit",children:"Enter your credentials to continue"})]})})})}),Object(x.jsx)(s.a,{item:!0,xs:12,children:Object(x.jsx)(K,{})}),Object(x.jsx)(s.a,{item:!0,xs:12,children:Object(x.jsx)(l.a,{})}),Object(x.jsx)(s.a,{item:!0,xs:12,children:Object(x.jsx)(s.a,{item:!0,container:!0,direction:"column",alignItems:"center",xs:12,children:Object(x.jsx)(o.a,{component:r.b,to:"/login",variant:"subtitle1",sx:{textDecoration:"none"},children:"Don't have an account?"})})})]})})})})}),Object(x.jsx)(s.a,{item:!0,xs:12,sx:{m:3,mt:1},children:Object(x.jsx)(Y,{})})]})})}}}]);
//# sourceMappingURL=33.720c5101.chunk.js.map